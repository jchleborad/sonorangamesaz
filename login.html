<!-- _layouts/default.html -->
<!DOCTYPE html>
<html lang="en">
<head>

  <!--LOGIN CHECK-->
  <script>
    // Block all pages (except login)
    const isLoginPage = window.location.pathname.includes("login.html");

    if (!localStorage.getItem("siteUser") && !isLoginPage) {
      window.location.href = "/login.html";
    }
  </script>

  <title>Login Sonoran Games AZ</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="author" content="John Chleborad">
  <meta name="description" content="A personal Bio of John Chleborad">
  <meta name="keywords" content="John Chleborad, …">

  <!-- Bootstrap 4.6.2 -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">

  <!-- Your Site CSS -->
  <link rel="stylesheet" href="/css/site.css">
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />

  <!-- jQuery + Bootstrap Bundle -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>

  <!-- FontAwesome 6 -->
  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />

  <!--Comfortaa Font-->
  <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Comfortaa&display=swap" >

</head>

<body class="dark-mode" style="padding:0%">

  <!--REDIRECT IF USER HASN'T LOGGED IN-->
    <script>
        if (!localStorage.getItem("siteUser") && window.location.pathname.match(/index\.html$|\/$/)) {
        window.location.href = "/login.html";
      }
    </script>



  <!-- yield the page’s content here -->
  <div id="site-login" class="dark-mode">
  <div class="site-login-wrapper">
    <img src="/assets/images/logo-sgaz-login-1200.png" alt="Logo Left" class="site-login-logo">

    <div class="site-login-box">
      <h2>Login - SonoranGamesAZ</h2>
      <div class="site-login-password-container">
        <input
          type="password"
          id="passwordInput"
          class="site-login-input"
          placeholder="Password"
        />
        <img
          src="/assets/images/eye-open.png"
          id="eyeToggle"
          class="site-login-eye"
          alt="Toggle visibility"
          onclick="togglePassword()"
        />
      </div>
      <button class="site-login-button" onclick="checkPassword()">Login</button>
      <p id="loginError" class="site-login-error">Incorrect password. Try again.</p>
    </div>

    <img src="/assets/images/logo-sgaz-login-1200.png" alt="Logo Right" class="site-login-logo">
  </div>
</div>

<script>
  function checkPassword() {
    const correctPassword = "sonoran";
    const input = document.getElementById("passwordInput").value;
    if (input === correctPassword) {
      localStorage.setItem("siteUser", "yes");
      window.location.href = "/index.html";
    } else {
      document.getElementById("loginError").style.display = "block";
    }
  }

  function togglePassword() {
    const pwd = document.getElementById("passwordInput");
    const icon = document.getElementById("eyeToggle");
    if (pwd.type === "password") {
      pwd.type = "text";
      icon.src = "/assets/images/eye-closed.png";
    } else {
      pwd.type = "password";
      icon.src = "/assets/images/eye-open.png";
    }
  }
</script>


<script>
  $(document).ready(function () {
    $('#projectTabs a').click(function (e) {
      e.preventDefault();
      $(this).tab('show');
    });
  });
</script>
</body>
</html>

</body>

<script>
  function logout() {
  localStorage.removeItem("siteUser");
  window.location.href = "/login.html";
}
</script>

</html>
